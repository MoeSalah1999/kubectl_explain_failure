name: PVCZoneMismatch
category: Volume
severity: High
priority: 8
requires:
  objects:
    - node
    - pvc
if: >
  context.get("node", {}).get("metadata", {}).get("labels", {}).get("topology.kubernetes.io/zone")
  != context.get("pvc", {}).get("metadata", {}).get("annotations", {}).get("volume.kubernetes.io/selected-node")
then:
  root_cause: PVC bound to a different availability zone
  confidence: 0.85
  evidence:
    - PVC zone does not match node zone
  likely_causes:
    - StatefulSet rescheduled across zones
  suggested_checks:
    - Recreate PVC in correct zone
    - Enable volume topology spreading
